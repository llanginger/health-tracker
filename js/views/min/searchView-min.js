var app=app||{},nSets={searchUrl:"https://api.nutritionix.com/v1_1/search/",autoUrl:"https://api.nutritionix.com/v2/autocomplete?q=",phrase:"Tacos",appId:"appId=02cd80d0",appKey:"appKey=421b1fb27190316a6585e273b648dd6f",calMin:"",calMax:"",fields:"fields=item_name%2Citem_id%2Cbrand_name%2Cnf_calories%2Cnf_total_fat"};$(function(){$("body").click(function(t){console.log(t.target)}),$("#search-bar").on("change",function(){var t=$(this).val();alert(t)})}),app.SearchView=Backbone.View.extend({el:"#search-div",events:{"click input":"edit","click .food-option":"printOption","keypress #search-bar":"updateOnEnter"},printOption:function(){this.$option=this.$("option"),console.log(this.$option)},initialize:function(){this.listenTo(this.model,"change",this.render),this.render(),console.log("Something happened")},render:function(){return this.$input=this.$(".edit"),console.log(JSON.stringify(this.model)),this},edit:function(){this.$input.val(""),this.$el.addClass("editing"),console.log("Edit fired")},close:function(){var t=this.$input.val().trim();t?(console.log(t),$.ajax(nSets.searchUrl+t+"?"+nSets.fields+"&"+nSets.appId+"&"+nSets.appKey).fail(function(t){console.log("Nutri api call failed")}).done(function(t){console.log(t)})):this.clear()},autocompleteBar:function(){var t=this.$input.val().trim();$.ajax(nSets.autoUrl+t+"&"+nSets.appId+"&"+nSets.appKey).fail(function(t){console.log("Nutri api call failed")}).done(function(e){$("option").remove();for(var i=0;i<e.length;i++)$("#food-list").append("<option class='food-option' value='"+e[i].text+"' />");console.log(e),console.log(t)})},updateOnEnter:function(t){t.which===ENTER_KEY?this.close():this.autocompleteBar()},clear:function(){this.model.destroy()}});