var app=app||{},keys={ESC:27,TAB:9,ENTER:13,LEFT:37,UP:38,RIGHT:39,DOWN:40},leoSets={searchUrl:"https://api.nutritionix.com/v1_1/search/",autoUrl:"https://api.nutritionix.com/v2/autocomplete?",phrase:"Tacos",appId:"appId=02cd80d0",appKey:"appKey=421b1fb27190316a6585e273b648dd6f",calMin:"",calMax:"",fields:"fields=item_name%2Citem_id%2Cbrand_name%2Cnf_calories%2Cnf_total_fat"};$(function(){var e=-1,o=leoSets.autoUrl+"&"+leoSets.appId+"&"+leoSets.appKey;$("input").bind("keydown",function(e){("38"==e.which||"40"==e.which||"13"==e.which)&&e.preventDefault()}),$("#leo-auto-bar").focus(function(){$(".leo-auto-suggestions").removeClass("hidden"),$("#leo-auto-bar").keydown(function(s){if(console.log(s.which),s.which!=keys.DOWN&&s.which!=keys.UP&&s.which!=keys.ENTER&&s.which!=keys.TAB&&s.which!=keys.LEFT&&s.which!=keys.RIGHT&&s.which!=keys.ESC&&s.which!=keys.TAB){$(".leo-auto-suggestions").html("").removeClass("hidden");var l=$(this).val();""!=l&&$.ajax(o+"&q="+l).fail(function(e){console.log(nAutoUrl),console.log("Nutri api call failed")}).done(function(e){console.log(e),console.log(l),console.log(o);for(var s in e)if(e.hasOwnProperty(s)){var t=e[s].text;$(".leo-auto-suggestions").append("<div class='leo-auto-suggest' data-index='"+s+"'>"+t+"</div>")}$(".leo-auto-suggest").click(function(){$("#leo-auto-bar").val($(this).text())}),$(".leo-auto-suggest").mouseenter(function(){$(this).addClass("leo-selected")}),$(".leo-auto-suggest").mouseleave(function(){$(this).removeClass("leo-selected")})})}s.which===keys.DOWN?(e++,console.log(e),$(".leo-auto-suggest").removeClass("leo-selected"),$("[data-index*='"+e+"']").addClass("leo-selected")):s.which===keys.UP&&e>0?(e--,$(".leo-auto-suggest").removeClass("leo-selected"),$("[data-index*='"+e+"']").addClass("leo-selected"),console.log(e)):s.which===keys.ENTER&&(console.log("enter key"),console.log($(".leo-selected").text()),$("#leo-auto-bar").val($(".leo-selected").text()))})}),$("#leo-auto-bar").blur(function(){$(".leo-auto-suggestions").addClass("hidden")})});